<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senheng CNY 2025 | Home</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #fcf1e0;
        }

        .container {
            position: relative;
            width: 100%;
            max-width: 1100px;
        }

        video {
            width: 100%;
            height: auto;
        }

        map area {
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <video id="video" autoplay loop muted playsinline>
            <source src="https://res.cloudinary.com/dadtoeru9/video/upload/v1737216531/CNY_Floor_Map_Home_Animation_mvhdyi.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <img src="https://res.cloudinary.com/dadtoeru9/image/upload/v1737216836/CNY-Floor-Map-Home-Animation_rxokjk.jpg" usemap="#CNY_Floor_Map_Home_Animation_Map" style="position: absolute; top: 0; left: 0; width: 100%; height: auto; opacity: 0;">
        <map name="CNY_Floor_Map_Home_Animation_Map" id="CNY_Floor_Map_Home_Animation_Map">
            <area shape="rect" alt="" coords="140,1518,335,1836" href="https://senhengcny2025.github.io/EC/">
            <area shape="rect" alt="" coords="77,1073,264,1260" href="https://senhengcny2025.github.io/HA/">
            <area shape="rect" alt="" coords="850,1285,1007,1506" href="https://senhengcny2025.github.io/BM/">
            <area shape="rect" alt="" coords="850,823,1007,1043" href="https://senhengcny2025.github.io/DG/">
            <area shape="rect" alt="" coords="72,568,229,789" href="https://senhengcny2025.github.io/BR/">
            <area shape="poly" alt="" coords="257,1759,217,1759,192,1755,171,1744,154,1727,144,1706,140,1681,140,1641,144,1617,154,1595,171,1579,192,1568,217,1564,257,1564,282,1568,303,1579,320,1595,331,1617,335,1641,335,1681,331,1706,320,1727,303,1744,282,1755,257,1759" href="https://senhengcny2025.github.io/EC/">
            <area shape="poly" alt="" coords="180,1260,160,1260,134,1256,111,1244,93,1226,81,1203,76,1177,76,1157,81,1131,93,1108,111,1089,134,1078,160,1073,180,1073,206,1078,229,1089,247,1108,259,1131,264,1157,264,1177,259,1203,247,1226,229,1244,206,1256,180,1260" href="https://senhengcny2025.github.io/HA/">
            <area shape="poly" alt="" coords="936,1442,920,1442,898,1438,879,1428,863,1413,853,1393,850,1371,850,1355,853,1333,863,1313,879,1298,898,1288,920,1285,936,1285,959,1288,978,1298,993,1313,1003,1333,1007,1355,1007,1371,1003,1393,993,1413,978,1428,959,1438,936,1442" href="https://senhengcny2025.github.io/BM/">
            <area shape="poly" alt="" coords="936,980,920,980,898,977,879,967,863,951,853,932,850,910,850,894,853,871,863,852,879,837,898,827,920,823,936,823,959,827,978,837,993,852,1003,871,1007,894,1007,910,1003,932,993,951,978,967,959,977,936,980" href="https://senhengcny2025.github.io/DG/">
            <area shape="poly" alt="" coords="158,725,142,725,120,721,100,712,85,696,75,677,72,655,72,638,75,616,85,597,100,582,120,572,142,568,158,568,180,572,200,582,215,597,225,616,229,638,229,655,225,677,215,696,200,712,180,721,158,725" href="https://senhengcny2025.github.io/BR/">
        </map>
    </div>

    <script>
        const video = document.getElementById('video');
        const map = document.getElementById('CNY_Floor_Map_Home_Animation_Map');
        const originalWidth = 1100; // Original video width
        const originalHeight = 1836; // Original video height for the new map

        // Function to scale coordinates dynamically based on video size
        function scaleCoords() {
            const videoWidth = video.clientWidth;
            const videoHeight = video.clientHeight;

            const scaleX = videoWidth / originalWidth;
            const scaleY = videoHeight / originalHeight;

            const areas = map.getElementsByTagName('area');

            for (let area of areas) {
                const originalCoords = area.dataset.originalCoords.split(',').map(Number);
                const scaledCoords = originalCoords.map((value, index) =>
                    index % 2 === 0 ? Math.round(value * scaleX) : Math.round(value * scaleY)
                );
                area.coords = scaledCoords.join(',');
            }
        }

        // Initialize the map by storing original coordinates
        function initializeMap() {
            const areas = map.getElementsByTagName('area');
            for (let area of areas) {
                area.dataset.originalCoords = area.coords;
            }
            scaleCoords();
        }

        video.play().catch(() => {
            document.addEventListener('touchstart', () => {
                video.play().catch(err => console.error('Playback failed:', err));
            }, { once: true });
        });

        window.addEventListener('resize', scaleCoords);
        window.addEventListener('load', initializeMap);
    </script>
</body>
</html>
